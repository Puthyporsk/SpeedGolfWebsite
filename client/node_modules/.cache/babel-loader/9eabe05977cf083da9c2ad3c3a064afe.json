{"ast":null,"code":"import _regeneratorRuntime from\"/Users/puthypor/Desktop/ssplay/SpeedGolfWebsite/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/puthypor/Desktop/ssplay/SpeedGolfWebsite/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/puthypor/Desktop/ssplay/SpeedGolfWebsite/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/puthypor/Desktop/ssplay/SpeedGolfWebsite/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/puthypor/Desktop/ssplay/SpeedGolfWebsite/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/puthypor/Desktop/ssplay/SpeedGolfWebsite/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/puthypor/Desktop/ssplay/SpeedGolfWebsite/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{Navbar,Container,Row,Col,Card,Button}from\"react-bootstrap\";var AllAppointments=/*#__PURE__*/function(_React$Component){_inherits(AllAppointments,_React$Component);function AllAppointments(){var _this;_classCallCheck(this,AllAppointments);_this=_possibleConstructorReturn(this,_getPrototypeOf(AllAppointments).call(this));_this.toggleDeleteClicked=function(){_this.setState(function(state){return{deleteClicked:!state.deleteClicked};});};_this.handleDeleteAll=function(user,course,d,t,i){_this.handleDelete(user,course,d,t,i);_this.handleDeleteFromDB(user,course,d,t);};_this.handleDelete=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(u,c,d,t,i){var url,res,msg;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url='/appointments/'+u+'/'+c+'/'+d+'/'+t+'/'+i;_context.next=3;return fetch(url,{method:'DELETE'});case 3:res=_context.sent;_context.next=6;return res.text();case 6:msg=_context.sent;console.log(msg);if(res.status==200){console.log(\"APPOINTMENT CANCELLED\");_this.getAllAppointments();}else{alert(msg);}case 9:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2,_x3,_x4,_x5){return _ref.apply(this,arguments);};}();_this.handleDeleteFromDB=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(u,c,d,t){var url,res,msg;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:url='/appointments_op/'+u+'/'+c+'/'+d+'/'+t;_context2.next=3;return fetch(url,{method:'DELETE'});case 3:res=_context2.sent;_context2.next=6;return res.text();case 6:msg=_context2.sent;console.log(msg);if(res.status==200){console.log(\"APPOINTMENT CANCELLED\");_this.getAllAppointments();}else{alert(msg);}case 9:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x6,_x7,_x8,_x9){return _ref2.apply(this,arguments);};}();_this.getAllAppointments=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var url;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:url='/allappointments_op/';fetch(url).then(function(response){if(response.status==200)return response.json();else{throw Error(response.statusText);}}).then(function(obj){console.log(\"GET SUCCESS!\");var thisCourse=JSON.parse(obj);_this.setState({course:thisCourse.map(function(c){return React.createElement(Col,{style:{marginTop:\"20px\",marginBottom:\"50px\"}},React.createElement(Card,{key:c.userId,style:{width:\"30rem\",display:\"flex\"}},React.createElement(Card.Body,null,React.createElement(Button,{style:{float:'right'},onClick:function onClick(){return _this.handleDeleteAll(c.username,c.courseName,c.date,c.time,c.userId);}},\"\\xD7\"),React.createElement(Card.Title,null,\"Appointment for \",c.username),React.createElement(Card.Text,null,\"Location: \",c.courseName),React.createElement(Card.Text,null,\"On: \",c.date),React.createElement(Card.Text,null,\"At: \",c.time))));})});}).catch(function(error){console.log(\"GET ERROR!\");});case 2:case\"end\":return _context3.stop();}}},_callee3);}));_this.state={deleteClicked:false};return _this;}// Get information of all courses on render\n_createClass(AllAppointments,[{key:\"componentDidMount\",value:function componentDidMount(){this.getAllAppointments();}},{key:\"render\",value:function render(){return React.createElement(\"div\",{id:\"allAppointmentsPage\"},React.createElement(\"h1\",null),React.createElement(\"table\",null,React.createElement(\"tbody\",null,React.createElement(Container,{fluid:true},React.createElement(Row,{noGutters:true},this.state.course)))));}}]);return AllAppointments;}(React.Component);export default AllAppointments;","map":{"version":3,"sources":["/Users/puthypor/Desktop/ssplay/SpeedGolfWebsite/client/src/components/AllAppointments.js"],"names":["React","Navbar","Container","Row","Col","Card","Button","AllAppointments","toggleDeleteClicked","setState","state","deleteClicked","handleDeleteAll","user","course","d","t","i","handleDelete","handleDeleteFromDB","u","c","url","fetch","method","res","text","msg","console","log","status","getAllAppointments","alert","then","response","json","Error","statusText","obj","thisCourse","JSON","parse","map","marginTop","marginBottom","userId","width","display","float","username","courseName","date","time","catch","error","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Navbar, Container, Row, Col, Card, Button } from \"react-bootstrap\";\n\nclass AllAppointments extends React.Component {\n\n    constructor(){\n        super();\n    \n        this.state={\n            deleteClicked: false\n        };\n    }\n\n    // Get information of all courses on render\n    componentDidMount(){\n        this.getAllAppointments();\n    }\n\n    toggleDeleteClicked = () => {\n        this.setState(state => ({deleteClicked: !state.deleteClicked}));\n    }\n\n    handleDeleteAll = (user, course, d, t, i) =>{\n        this.handleDelete(user, course, d, t, i);\n        this.handleDeleteFromDB(user, course, d, t);\n    }\n\n    // Delete course with this id from database\n    handleDelete = async (u, c, d, t, i) => {\n        const url = '/appointments/'+u+'/'+c+'/'+d+'/'+t+'/'+i;\n        const res = await fetch(url, {method: 'DELETE'}); \n        const msg = await res.text();\n        console.log(msg);\n        if (res.status == 200) {\n            console.log(\"APPOINTMENT CANCELLED\");\n            this.getAllAppointments();\n        } else {\n            alert(msg);\n        }  \n    }\n\n    handleDeleteFromDB = async(u, c, d, t) => {\n        const url = '/appointments_op/'+u+'/'+c+'/'+d+'/'+t;\n        const res = await fetch(url, {method: 'DELETE'}); \n        const msg = await res.text();\n        console.log(msg);\n        if (res.status == 200) {\n            console.log(\"APPOINTMENT CANCELLED\");\n            this.getAllAppointments();\n        } else {\n            alert(msg);\n        }  \n    }\n\n    // Get information of all courses to show on page\n    getAllAppointments = async () => {\n        const url = '/allappointments_op/';\n        fetch(url)\n        .then((response) => {\n            if (response.status == 200)\n                return response.json();\n            else\n            {\n                throw Error(response.statusText);\n            }\n        })\n        .then((obj) => \n        {\n            console.log(\"GET SUCCESS!\");\n            let thisCourse = JSON.parse(obj);\n            this.setState({\n                course: thisCourse.map((c) =>(\n                    <Col  style={{marginTop: \"20px\", marginBottom: \"50px\"}}>\n                        <Card key={c.userId} style={{ width: \"30rem\", display: \"flex\" }}>                      \n                        <Card.Body>\n                            <Button style={{float: 'right'}} onClick={() => this.handleDeleteAll(c.username, c.courseName, c.date, c.time, c.userId)}>&times;</Button>\n                            <Card.Title>Appointment for {c.username}</Card.Title>\n                            <Card.Text>Location: {c.courseName}</Card.Text>\n                            <Card.Text>On: {c.date}</Card.Text>\n                            <Card.Text>At: {c.time}</Card.Text>\n                        </Card.Body>\n                        </Card>\n                    </Col>\n                ))\n            });\n        }).catch((error) =>{\n            console.log(\"GET ERROR!\");\n        });\n    }\n\n    render() {\n        return(\n            <div id=\"allAppointmentsPage\">\n                <h1></h1>\n                <table >\n                    <tbody>\n                    <Container fluid={true}>\n                        <Row noGutters>                    \n                            {this.state.course}\n                        </Row>\n                    </Container> \n                    </tbody>\n                </table>\n        </div>\n        );\n    }\n}\n\nexport default AllAppointments;"]},"metadata":{},"sourceType":"module"}