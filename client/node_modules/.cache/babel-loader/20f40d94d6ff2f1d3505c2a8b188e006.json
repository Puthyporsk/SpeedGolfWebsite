{"ast":null,"code":"import _defineProperty from\"/Users/puthypor/Desktop/ssplay/bp-ssplay/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/puthypor/Desktop/ssplay/bp-ssplay/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/puthypor/Desktop/ssplay/bp-ssplay/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/puthypor/Desktop/ssplay/bp-ssplay/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/puthypor/Desktop/ssplay/bp-ssplay/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/puthypor/Desktop/ssplay/bp-ssplay/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/puthypor/Desktop/ssplay/bp-ssplay/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/puthypor/Desktop/ssplay/bp-ssplay/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';var PaymentDialog=/*#__PURE__*/function(_React$Component){_inherits(PaymentDialog,_React$Component);function PaymentDialog(){var _this;_classCallCheck(this,PaymentDialog);_this=_possibleConstructorReturn(this,_getPrototypeOf(PaymentDialog).call(this));_this.getCard=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url='/cards/'+_this.props.userObj.id;fetch(url).then(function(response){if(response.status==200)return response.json();else{throw Error(response.statusText);}}).then(function(obj){console.log(\"GET SUCCESS!\");var thisCard=JSON.parse(obj);_this.setState({card:thisCard.map(function(c){return{name:c.name,number:c.number,expDate:c.expDate};})});}).catch(function(error){console.log(\"GET ERROR!\");});case 2:case\"end\":return _context.stop();}}},_callee);}));_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.handleSubmit=function(event){event.preventDefault();var data=_this.state;console.log(data);console.log(_this.state.card);if(_this.state.card[0].name===data.name&&_this.state.card[0].number===parseInt(data.number)&&_this.state.card[0].expDate===data.expDate){var i=_this.props.info;_this.props.handlePayment(i.userId,i.username,i.courseName,i.date,i.time,i.paid);_this.props.handleUserPayment(i.mmId,i.userId,i.username,i.courseName,i.date,i.time,i.paid);_this.props.close();}else{alert(\"INVALID CARD\");}};_this.state={name:'',number:0,expDate:''};return _this;}_createClass(PaymentDialog,[{key:\"componentDidMount\",value:function componentDidMount(){this.getCard();}},{key:\"render\",value:function render(){return React.createElement(\"div\",{id:\"aboutModal\",className:\"modal payment-dialogue\",role:\"dialog\"},React.createElement(\"div\",{className:\"modal-content\"},React.createElement(\"div\",{className:\"modal-header\"},React.createElement(\"center\",null,React.createElement(\"h3\",{className:\"modal-title\"},React.createElement(\"b\",null,\"Enter Card Information\"))),React.createElement(\"button\",{id:\"modalClose\",className:\"modal-close\",onClick:this.props.close},\"\\xD7\")),React.createElement(\"div\",{className:\"modal-body\"},React.createElement(\"form\",null,React.createElement(\"center\",null,React.createElement(\"label\",null,\"Name on Card: \",React.createElement(\"br\",null),React.createElement(\"input\",{id:\"name\",name:\"name\",placeholder:\"name\",value:this.state.name,onChange:this.handleChange,required:true})),React.createElement(\"p\",null),React.createElement(\"label\",null,\"Card Number: \",React.createElement(\"br\",null),React.createElement(\"input\",{id:\"number\",name:\"number\",placeholder:\"number\",value:this.state.number,onChange:this.handleChange,required:true})),React.createElement(\"p\",null),React.createElement(\"label\",null,\"Expiration Date: (format: MM/YY)\",React.createElement(\"br\",null),React.createElement(\"input\",{id:\"expDate\",name:\"expDate\",placeholder:\"expDate\",value:this.state.expDate,onChange:this.handleChange,required:true})),React.createElement(\"p\",null)))),React.createElement(\"div\",{className:\"modal-footer\"},React.createElement(\"button\",{className:\"btn btn-danger\",onClick:this.handleSubmit},\"Verify Card\"))));}}]);return PaymentDialog;}(React.Component);export default PaymentDialog;","map":{"version":3,"sources":["/Users/puthypor/Desktop/ssplay/bp-ssplay/client/src/components/PaymentDialog.js"],"names":["React","PaymentDialog","getCard","url","props","userObj","id","fetch","then","response","status","json","Error","statusText","obj","console","log","thisCard","JSON","parse","setState","card","map","c","name","number","expDate","catch","error","handleChange","event","target","value","handleSubmit","preventDefault","data","state","parseInt","i","info","handlePayment","userId","username","courseName","date","time","paid","handleUserPayment","mmId","close","alert","Component"],"mappings":"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","sourcesContent":["import React from 'react';\n\nclass PaymentDialog extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n                    name: '',\n                    number: 0,\n                    expDate: ''\n                };\n    }\n\n    componentDidMount(){\n        this.getCard();\n    }\n\n    getCard = async() => {\n        const url = '/cards/'+this.props.userObj.id;\n        fetch(url)\n        .then((response) => {\n            if (response.status == 200)\n                return response.json();\n            else\n            {\n                throw Error(response.statusText);\n            }\n        })\n        .then((obj) => \n        {\n            console.log(\"GET SUCCESS!\");\n            let thisCard = JSON.parse(obj);\n            this.setState({\n                card: thisCard.map((c) =>(\n                    {\n                        name: c.name,\n                        number: c.number,\n                        expDate: c.expDate\n                    }\n                ))\n            });\n            \n        }).catch((error) =>{\n            console.log(\"GET ERROR!\");\n        });\n    }\n    \n    handleChange = (event) => {\n        this.setState({[event.target.name]: event.target.value});\n    }\n\n    handleSubmit = (event) =>{\n        event.preventDefault();\n        let data = this.state;\n        console.log(data);\n        console.log(this.state.card);\n        if (this.state.card[0].name === data.name && this.state.card[0].number === parseInt(data.number) && this.state.card[0].expDate === data.expDate)\n        {\n            let i = this.props.info;\n            this.props.handlePayment(i.userId,i.username,i.courseName,i.date,i.time,i.paid);\n            this.props.handleUserPayment(i.mmId,i.userId,i.username,i.courseName,i.date,i.time,i.paid);\n            this.props.close();\n        }\n        else {\n            alert(\"INVALID CARD\");\n        }\n    }\n\n    render() {\n        return (\n        <div id=\"aboutModal\" className=\"modal payment-dialogue\" role=\"dialog\">\n        <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <center>\n                <h3 className=\"modal-title\"><b>Enter Card Information</b></h3>\n              </center>\n               <button id=\"modalClose\" className=\"modal-close\" onClick={this.props.close}>\n                 &times;</button>\n            </div>\n            <div className=\"modal-body\">\n              <form>\n                  <center>\n                    <label>\n                        Name on Card: <br></br>\n                        <input id=\"name\" name=\"name\" placeholder=\"name\" value={this.state.name} onChange={this.handleChange} required></input>\n                    </label>\n                    <p></p>\n                    <label>\n                        Card Number: <br></br>\n                        <input id=\"number\" name=\"number\" placeholder=\"number\" value={this.state.number} onChange={this.handleChange} required></input>\n                    </label>\n                    <p></p>\n                    <label>\n                        Expiration Date: (format: MM/YY)<br></br>\n                        <input id=\"expDate\" name=\"expDate\" placeholder=\"expDate\" value={this.state.expDate} onChange={this.handleChange} required></input>\n                    </label>\n                    <p></p>\n                  </center>\n              </form>\n            </div>\n            <div className=\"modal-footer\">\n                  <button className=\"btn btn-danger\" onClick={this.handleSubmit}>\n                  Verify Card</button>\n            </div>\n        </div>\n        </div>\n        );\n    }\n}\n\nexport default PaymentDialog;"]},"metadata":{},"sourceType":"module"}